{"version":3,"sources":["constant.js","services/CatService.js","pages/Home.js"],"names":["_CONST","getCats","params","Axios","get","page","id","Option","Select","Meta","Card","HomePage","useContext","CatContext","dispatch","catsDataSource","catBreeds","catList","catID","useState","setPage","disableHandler","setDisableHandler","showBtn","setShowBtn","useEffect","then","data","type","handleClear","undefined","className","md","span","offset","sm","xs","placeholder","showSearch","allowClear","defaultValue","onChange","e","console","log","map","el","value","key","name","justify","align","gutter","hoverable","cover","alt","src","url","description","to","onClick","disabled","moreData","findIndex","push","length"],"mappings":"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","file":"static/js/5.928dc308.chunk.js","sourcesContent":["export const _CONST = {\r\n  BASE_URL: 'https://api.thecatapi.com/v1'\r\n};","import Axios from 'axios';\r\nimport { _CONST } from '../constant'\r\n\r\nexport function getBreedList() {\r\n  return Axios.get(`${_CONST.BASE_URL}/breeds`);\r\n}\r\n\r\nexport function getCats(params) {\r\n  return Axios.get(`${_CONST.BASE_URL}/images/search?limit=10&page=${params.page}&breed_id=${params.id}`);\r\n}","import React, { useContext, useEffect, useState } from 'react';\r\nimport { CatContext } from '../contexts/CatContextProvider';\r\nimport { getBreedList, getCats } from '../services/CatService';\r\nimport { Select, Row, Col, Button, Card } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport '../assets/sass/Home.scss';\r\n\r\n//created const from ant design\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\n\r\nconst HomePage = () => {\r\n  const { dispatch, catsDataSource } = useContext(CatContext);\r\n  const { catBreeds, catList, catID } = catsDataSource;\r\n  const [page, setPage] = useState(1);\r\n  const [disableHandler, setDisableHandler] = useState(true);\r\n  const [showBtn, setShowBtn] = useState(true);\r\n\r\n  useEffect(() => {\r\n    getBreedList()\r\n      .then(({ data }) => {\r\n        dispatch({ type: 'GET_BREEDS', data });\r\n      })\r\n  }, [dispatch]);\r\n\r\n  const handleBreedSelect = (e) => {\r\n    if (!e) {\r\n      return handleClear();\r\n    }\r\n    getCats({ id: e, page })\r\n      .then(({ data }) => {\r\n        const catID = e;\r\n        console.log(data);\r\n        setPage(page + 1);\r\n        setDisableHandler(false);\r\n        dispatch({ type: 'CAT_ID', catID })\r\n        dispatch({ type: 'GET_CATS', data })\r\n      });\r\n  }\r\n\r\n  const handleLoadMore = () => {\r\n    getCats({ id: catID, page })\r\n      .then(({ data }) => {\r\n        console.log(data);\r\n        const moreData = [];\r\n        data.map(el => {\r\n          const index = catList.findIndex(e => e.id === el.id);\r\n          return index === -1 ? moreData.push(el) : null;\r\n        });\r\n        if (moreData.length > 0) {\r\n          setPage(page + 1);\r\n          dispatch({ type: 'LOAD_MORE', moreData })\r\n        } else {\r\n          setShowBtn(false)\r\n        }\r\n      });\r\n  }\r\n\r\n  const handleClear = () => {\r\n    const data = [];\r\n    const catID = undefined;\r\n    setPage(1);\r\n    setDisableHandler(true);\r\n    dispatch({ type: 'CAT_ID', catID })\r\n    dispatch({ type: 'GET_CATS', data })\r\n  }\r\n\r\n  const handleViewDetails = (id) => {\r\n    console.log(id)\r\n    dispatch({ type: 'SELECTED_CAT', id })\r\n  }\r\n  return (\r\n    <Row className='home-wrapper'>\r\n      <Col md={{ span: 16, offset: 4 }} sm={{ span: 20, offset: 2 }} xs={{ span: 21, offset: 1 }}>\r\n        <h1>CAT BROWSER</h1>\r\n        <h4>Breed</h4>\r\n        <Select\r\n          className='catbreed-select'\r\n          placeholder='Select Cat Breed'\r\n          showSearch\r\n          allowClear\r\n          defaultValue={catID}\r\n          onChange={handleBreedSelect}\r\n        >\r\n          {catBreeds.map(el =>\r\n            <Option value={el.id} key={el.id}>{el.name}</Option>\r\n          )}\r\n        </Select>\r\n      </Col>\r\n\r\n      <Col md={{ span: 16, offset: 4 }} sm={{ span: 20, offset: 2 }} xs={{ span: 21, offset: 1 }} className=\"mt20\">\r\n        <Row type=\"flex\" justify=\"start\" align=\"top\" gutter={[16, 16]}>\r\n          {catList.map(el => {\r\n            return (\r\n              <Col md={{ span: 6 }} sm={{ span: 12 }} xs={{ span: 24 }} key={el.id}>\r\n                <Card\r\n                  hoverable\r\n                  key={el.id}\r\n                  cover={<img alt=\"example\" src={el.url} />}\r\n                >\r\n                  <Meta className=\"text-center\" description={<Link to={`/test-iona/${el.id}`}><Button onClick={() => { handleViewDetails(el.id) }}>View Details</Button></Link>} />\r\n                </Card>\r\n              </Col>\r\n            )\r\n          })}\r\n        </Row>\r\n        {showBtn ?\r\n          <Button\r\n            className=\"mt20\"\r\n            type=\"primary\"\r\n            disabled={disableHandler}\r\n            onClick={handleLoadMore}>\r\n            Load more</Button>\r\n          : null}\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default HomePage;"],"sourceRoot":""}